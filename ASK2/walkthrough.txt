Η άσκηση αυτή έχει σκοπό την πραγματοποίηση SQL Injection σε login form.

Για να λειτουργήσει ένα login form, πρέπει με το που πατήσει ο χρήστης τα
credentials του, να γίνει σύγκριση με τα records της βάσης και να 
εξακριβωθεί αν το pair username/pass αντιστοιχεί με κάποιο από τα
αντίστοιχα ζευγάρια της βάσης. Αν υπάρχει, δίνεται session στον χρήστη
και μπαίνει στον λογαριασμό του.

Το SQL Injection είναι συνήθως εφικτό όταν ο ο προγραμματιστής δεν κάνει
"sanitize" το input (δηλαδή δεν κάνει πχ escape τους ειδικούς χαρακτήρες 
όπως τα single quotes).
Έτσι ο επιτιθέμενος μπορεί εύκολα να εισάγει δικά του sql statements μέσα στα
πεδία username και password και να αποκτήσει μη εγκεκριμένη πρόσβαση σε 
λογαριασμό χωρίς να εισάγει τα σωστά credentials.

Μπαίνουμε αρχικά στο localhost:8002 (Η βάση βρίσκεται στο 8081)

Στην συγκεκριμένη άσκηση, η εντολή που χρησιμοποιείται για τον έλεγχο στη βάση είναι : 
select * from users where user_name = '$user_name' and password = '$password'
Αν προσθέσουμε την εντολή 'or'1'='1 στο πεδίο password, η παραπάνω εντολή γίνεται :
select user_id from users where user_name = '$user_name' and password = '' or '1' = '1'
'Αρα με λίγα λόγια, η σύνδεση θα γίνεται αν υπάρχει το username που πληκτρολογήσαμε
στο form στη βάση Ή 1=1. Το 1=1 ισχύει πάντα άρα αποκτάμε είσοδο.

Μια γρήγορη λύση για αυτή την ευπάθεια είναι να μην κάνουμε select το password μαζί με
το username. Αντί γι'αυτό, χρησιμοποιούμε την εντολή
"select * from users where user_name = '$user_name'" στην μεταβλητή "query" και μετά
δίνουμε session στο χρήστη μόνο αν υπάρχει κωδικός για το δοθέν username. Για να
γίνει αυτό χρησιμοποιούμε το condition "if ($user_data['password']=== $password)" 
πάνω από το block κώδικα που δίνει session στον χρήστη.

Όταν μπούμε στο index, το πρώτο πράγμα που βλέπουμε είναι ένα text input field στο οποίο μπορούμε
να εισάγουμε συμβολοσειρά. Πατώντας την εντολή <script>alert(document.cookie())</script> παίρνουμε το
session id που μας δίνει την μισή σημαία.

Έπειτα παμε στο πεδίο my emails. Εδώ χρειαζόμαστε άλλο ένα sql injection. Αυτή τη φορά το query
είναι το εξής : $query = "select * from user_table where email_password = ('$email_password') ";
Για να το κάνουμε bypass, χρησιμοποιούμε : 'or'1'='1)*/
Mία από τις εγγραφές λέει ότι πρέπει να σβήσουμε τον πίνακα emails. Για να το κάνουμε αυτό,
πληκτρολογούμε στο input : ');drop table emails;--'
